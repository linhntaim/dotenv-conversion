{"version":3,"file":"restore.js","names":["NUMBER_REGEX","exports","BIGINT_REGEX","SYMBOL_REGEX","ARRAY_REGEX","JSON_REGEX","unescapeValue","value","replaceAll","restoreValue","includes","undefined","test","Number","BigInt","slice","Symbol","e","JSON","parse","restoreValues","values","restoringValues","key"],"sources":["../../src/env-utils/restore.js"],"sourcesContent":["export const NUMBER_REGEX = /^[+-]?(\\d*\\.)?\\d+(e[+-]?\\d+)?$/i\r\nexport const BIGINT_REGEX = /^[+-]?\\d+n$/\r\nexport const SYMBOL_REGEX = /^Symbol\\(.*\\)$/\r\nexport const ARRAY_REGEX = /^\\[.*\\]$/\r\nexport const JSON_REGEX = /^\\{.*\\}$/\r\n\r\nfunction unescapeValue(value) {\r\n    return value.replaceAll('\\\\\"', '\"').replaceAll('\\\\\\\\', '\\\\')\r\n}\r\n\r\nexport function restoreValue(value) {\r\n    switch (true) {\r\n        case ['null', 'Null', 'NULL'].includes(value):\r\n            return null\r\n\r\n        case ['undefined', 'UNDEFINED'].includes(value):\r\n            return undefined\r\n\r\n        case ['true', 'True', 'TRUE', 'yes', 'Yes', 'YES'].includes(value):\r\n            return true\r\n        case ['false', 'False', 'FALSE', 'no', 'No', 'NO'].includes(value):\r\n            return false\r\n\r\n        case ['NaN', 'Infinity', '-Infinity', '+Infinity'].includes(value):\r\n        case NUMBER_REGEX.test(value):\r\n            return Number(value)\r\n\r\n        case BIGINT_REGEX.test(value):\r\n            return BigInt(value.slice(0, -1))\r\n\r\n        default:\r\n            value = unescapeValue(value)\r\n\r\n            switch (true) {\r\n                case SYMBOL_REGEX.test(value):\r\n                    try {\r\n                        return Symbol(value.slice(7, -1))\r\n                    }\r\n                    catch (e) {\r\n                        return value\r\n                    }\r\n\r\n                case ARRAY_REGEX.test(value):\r\n                case JSON_REGEX.test(value):\r\n                    try {\r\n                        return JSON.parse(value)\r\n                    }\r\n                    catch (e) {\r\n                        return value\r\n                    }\r\n\r\n                default:\r\n                    return value\r\n            }\r\n    }\r\n}\r\n\r\nexport function restoreValues(values) {\r\n    const restoringValues = {}\r\n    for (const key in values) {\r\n        restoringValues[key] = restoreValue(values[key])\r\n    }\r\n    return restoringValues\r\n}\r\n"],"mappings":"yPAAO,GAAM,CAAAA,YAAY,CAAAC,OAAA,CAAAD,YAAA,CAAG,iCAAiC,CACtD,GAAM,CAAAE,YAAY,CAAAD,OAAA,CAAAC,YAAA,CAAG,aAAa,CAClC,GAAM,CAAAC,YAAY,CAAAF,OAAA,CAAAE,YAAA,CAAG,gBAAgB,CACrC,GAAM,CAAAC,WAAW,CAAAH,OAAA,CAAAG,WAAA,CAAG,UAAU,CAC9B,GAAM,CAAAC,UAAU,CAAAJ,OAAA,CAAAI,UAAA,CAAG,UAAU,CAEpC,QAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,CAC1B,MAAO,CAAAA,KAAK,CAACC,UAAU,CAAC,MAAK,CAAE,IAAG,CAAC,CAACA,UAAU,CAAC,MAAM,CAAE,IAAI,CAC/D,CAEO,QAAS,CAAAC,YAAYA,CAACF,KAAK,CAAE,CAChC,OAAQ,IAAI,EACR,IAAK,CAAC,MAAM,CAAE,MAAM,CAAE,MAAM,CAAC,CAACG,QAAQ,CAACH,KAAK,CAAC,CACzC,MAAO,KAAI,CAEf,IAAK,CAAC,WAAW,CAAE,WAAW,CAAC,CAACG,QAAQ,CAACH,KAAK,CAAC,CAC3C,MAAO,CAAAI,SAAS,CAEpB,IAAK,CAAC,MAAM,CAAE,MAAM,CAAE,MAAM,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAC,CAACD,QAAQ,CAACH,KAAK,CAAC,CAC9D,MAAO,KAAI,CACf,IAAK,CAAC,OAAO,CAAE,OAAO,CAAE,OAAO,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAC,CAACG,QAAQ,CAACH,KAAK,CAAC,CAC9D,MAAO,MAAK,CAEhB,IAAK,CAAC,KAAK,CAAE,UAAU,CAAE,WAAW,CAAE,WAAW,CAAC,CAACG,QAAQ,CAACH,KAAK,CAAC,CAClE,IAAK,CAAAP,YAAY,CAACY,IAAI,CAACL,KAAK,CAAC,CACzB,MAAO,CAAAM,MAAM,CAACN,KAAK,CAAC,CAExB,IAAK,CAAAL,YAAY,CAACU,IAAI,CAACL,KAAK,CAAC,CACzB,MAAO,CAAAO,MAAM,CAACP,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,CAErC,QACIR,KAAK,CAAGD,aAAa,CAACC,KAAK,CAAC,CAE5B,OAAQ,IAAI,EACR,IAAK,CAAAJ,YAAY,CAACS,IAAI,CAACL,KAAK,CAAC,CACzB,GAAI,CACA,MAAO,CAAAS,MAAM,CAACT,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CACpC,CACA,MAAOE,CAAC,CAAE,CACN,MAAO,CAAAV,KACX,CAEJ,IAAK,CAAAH,WAAW,CAACQ,IAAI,CAACL,KAAK,CAAC,CAC5B,IAAK,CAAAF,UAAU,CAACO,IAAI,CAACL,KAAK,CAAC,CACvB,GAAI,CACA,MAAO,CAAAW,IAAI,CAACC,KAAK,CAACZ,KAAK,CAC3B,CACA,MAAOU,CAAC,CAAE,CACN,MAAO,CAAAV,KACX,CAEJ,QACI,MAAO,CAAAA,KACf,CACR,CACJ,CAEO,QAAS,CAAAa,aAAaA,CAACC,MAAM,CAAE,CAClC,GAAM,CAAAC,eAAe,CAAG,CAAC,CAAC,CAC1B,IAAK,GAAM,CAAAC,GAAG,GAAI,CAAAF,MAAM,CAAE,CACtBC,eAAe,CAACC,GAAG,CAAC,CAAGd,YAAY,CAACY,MAAM,CAACE,GAAG,CAAC,CACnD,CACA,MAAO,CAAAD,eACX"}